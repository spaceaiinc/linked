---
description: 
globs: 
alwaysApply: false
---
# コーディング規約

## 重複防止
- **実装前の確認:** 新しいコードを書く前に、以下を徹底的に確認してください：
    - 既存の類似機能や機能性。
    - 同じまたは類似の名前を持つ関数、コンポーネント、またはクラス。
    - 重複するAPIエンドポイント。
    - 共通ロジックを抽出して再利用する機会。

## 実装ガイドライン
- **ディレクトリ構造:** [`project-structure.mdc`](mdc:.cursor/rules/project-structure.mdc) で概説されている定義済みのプロジェクト構造に厳密に従ってください。
- **命名規則:** ファイル、変数、関数、クラス、コンポーネントの命名において一貫性を維持してください。
- **共通ロジック:** 再利用可能なユーティリティ関数やロジックは、適切な共有ディレクトリ（例: @`lib/utils` ）に配置してください。

## UI/UXの変更
- **厳格な禁止事項:** 以下の場合を除き、UI/UXデザインの変更（レイアウト、色、フォント、間隔など）は**行わないでください**：
    1. 変更の明確な理由が提示されている。
    2. 変更を行う**前に**、**明示的な承認**が得られている。

## TypeScript型定義  
- Supabase Database型からテーブル型を導出  
- Insert/Update/Row型を適切に使い分け  
- 配列型やDate型の適切な型注釈を使用  
  
## エラーハンドリング  
- try-catchブロックで例外処理  
- コンソールログでデバッグ情報を出力  
- 適切なHTTPステータスコードでレスポンス  
  
## 非同期処理  
- Promise.allではなくシーケンシャル処理を優先（レート制限対応）  
- 適切な待機時間（700ms）を設定してAPI制限を回避